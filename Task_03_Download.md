# Task 03

> Tên tài liệu: Download file.

> Thực hiện: Nguyễn Minh Nhật

> Cập nhật lần cuối: 12/02/2017

## Mục lục:

[1.Download file. ](#downfile)

## Nội dung.

<a name="downfile"></a>

### 1.Download file.

- Ta có 1 link `Download file` như sau: 

```javascript

<a href="action_download.php">Download file </a>

```

![a](http://imageshack.com/a/img923/7520/aHzny5.png)

### Ta có file `action_download.php` để xử lí download file như sau.

```javascript
<?php
$file_name = "never.jpg";
if(file_exists($file_name))
{
	header('Cache-control: private');
	// Báo cho trình duyệt biết cơ chế điểu khiển cache là `private`, chỉ cho phép client cache nội dung của file không cho phép proxies caching nội dung file, cache là bộ nhớ đệm do trình duyệt tao ra để hỗ trợ quá trình xử lí, và nó lưu 1 sô thông tin cần thiết.
	
	header('Content-Type: application/octet-stream');
	// Thông báo cho trình duyệt dữ liệu trả về ở dạng nhị phân.
	
	header('Content-Length: '.filesize($file_name));
	// Thông báo dung lượng của file muốn downlaod
	
	header('Content-Disposition: attachment; filename='.$file_name);
	// Thông báo cho trình duyệt biết tên file và lựa chọn `attachment` là file phải được download.
	readfile($file_name);
	exit;
}
?>
```
 
- Chạy thử và kiểm tra.
          
![a](http://imageshack.com/a/img923/1557/khwnRx.png)  

- OK thành công rồi !.

![a](http://imageshack.com/a/img924/6908/47PTf7.png)

### Thanks you for watching !

