# Task 26

> Tên tài liệu: BIGINT Overflow Error Based Injection.

> Thực hiện: Nguyễn Minh Nhật

> Cập nhật lần cuối: 14/03/2017

## Mục lục:

[1.Báo cáo chi tiết về lỗi này.](#baocao)

[2.Các ví dụ thực hành lỗi.](#vidu)

## Nội dung.

<a name="baocao"></a>

### 1.Báo cáo chi tiết về lỗi này.

**!** Vấn đề ở đây theo như ta biết mỗi kiểu biến sẽ có 1 giá trị bao nhiêu bit, ứng với miền giá trị của nó, xem hình.

<img src="http://sv1.upsieutoc.com/2017/03/14/1.png"/>

**->**    Điều gì xảy ra khi ta cố tình nhập đầu vào vượt quá miền của biến đó.

*Ví dụ*: Ta có kiểu `BIGINT` 8 bytes ứng với 64 bit miền giá trị từ `-9223372036854775808` - `9223372036854775808`, bây giờ ta thử xem khi ta vượt quá miền thì nó sẽ báo gì nhé.

- Nó sẽ hiện thông báo lỗi như hình.

<img src="http://sv1.upsieutoc.com/2017/03/14/10bfbd.png"/>

**->** Điều gì xảy ra khi ta select bit `0` và phủ định của nó là `~0`, nó sẽ trả về giá trị `max` không dấu của kiểu `BIGINT`.

<img src="http://sv1.upsieutoc.com/2017/03/14/1cf842.png"/>

- Nếu ta `trừ` hoặc `cộng` `~0` thì nó cũng sinh ra lỗi tràn miền giá trị(Overflow Error).

<img src="http://sv1.upsieutoc.com/2017/03/14/180137.png"/>

### Injection.

- Bây giờ ta sử dụng câu truy vấn đơn giản kết hợp với lỗi Overflow để xem như thể nào. Thông thường thì khi thực hiện câu truy vấn thành công thì nó sẽ trả về `0`, vậy ta sử dụng phủ định trước câu truy vấn thì nó sẻ trả về `1`.

<img src="http://sv1.upsieutoc.com/2017/03/14/1005c2.png"/>

- Ta kết hợp giữa ~0 với phủ định của câu truy vấn xem nó trả về gì nhé: `select ~0+!(select * from (select user())x);`

- Nó vẫn sẽ báo lỗi Overflow.

<img src="http://sv1.upsieutoc.com/2017/03/14/370817.png"/>


<img src=""/>
<img src=""/>
<img src=""/>
<img src=""/>
